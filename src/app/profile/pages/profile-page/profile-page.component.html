<div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }} <span (click)="closeErrorMessage()" style="cursor: pointer;">&times;</span>
  </div>
<div class="container">
    <h2>Edit Profile</h2>

    <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
      <!-- Email field -->
      <div class="form-group">
        <label>Email</label>
        <input type="text" class="form-control" formControlName="email" readonly>
      </div>

      <div class="form-group">
        <label>First Name</label>
        <input type="text" class="form-control" formControlName="firstName">
        <small class="text-danger" *ngIf="profileForm.get('firstName')?.hasError('required') && profileForm.get('firstName')?.touched">
          First Name is required.
        </small>
        <small class="text-danger" *ngIf="profileForm.get('firstName')?.hasError('maxlength') && profileForm.get('firstName')?.touched">
          Maximum length is 255 characters.
        </small>
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input type="text" class="form-control" formControlName="lastName">
        <small class="text-danger" *ngIf="profileForm.get('lastName')?.hasError('required') && profileForm.get('lastName')?.touched">
          Last Name is required.
        </small>
        <small class="text-danger" *ngIf="profileForm.get('lastName')?.hasError('maxlength') && profileForm.get('lastName')?.touched">
          Maximum length is 255 characters.
        </small>
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="text" class="form-control" formControlName="phoneNumber" id="phoneNumber" appPhoneNumber>
        <small class="text-danger" *ngIf="profileForm.get('phoneNumber')?.hasError('invalidPhoneNumber') && profileForm.get('phoneNumber')?.touched">
            {{ CustomValidators.phoneNumberErrorMessage(profileForm.get('phoneNumber')?.errors) }}
          </small>

      </div>

      <div class="form-group">
        <label>Website URL</label>
        <input type="text" class="form-control" formControlName="websiteUrl">
        <small class="text-danger" *ngIf="profileForm.get('websiteUrl')?.hasError('invalidUrl') && profileForm.get('websiteUrl')?.touched">
            Please enter a valid URL.
          </small>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="profileForm.invalid">Update</button>
    </form>
  </div>
